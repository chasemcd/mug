---
milestone: v1.22
audited: 2026-02-08
status: passed
scores:
  requirements: 18/18
  phases: 5/5
  integration: 6/6
  flows: 3/3
gaps:
  requirements: []
  integration: []
  flows: []
tech_debt:
  - category: pre-existing
    items:
      - "gym_scene.py:95 — TODO(chase): add callback typehint"
      - "gym_scene.py:398 — TODO(chase): add callback typehint"
  - category: out-of-scope
    items:
      - "RemoteConfig class (remote_config.py) has its own pyodide()/user_experience() methods — separate API surface, intentionally not refactored"
  - category: transient
    items:
      - "docs/_build/ contains stale references to old method names — gitignored, auto-generated, rebuilds clean from source"
human_verification:
  - "E2E tests (pytest tests/e2e/ --headed) — require Playwright headed browser with running server"
  - "Visual Sphinx build check (cd docs && make html) — verify RST renders correctly"
  - "Code example spot-check — copy doc example into Python, verify no AttributeError"
---

# v1.22 Milestone Audit: GymScene Config Cleanup

**Audited:** 2026-02-08
**Status:** PASSED
**Re-audit:** Yes — updated after Phase 71 (Documentation Migration) closed documentation tech debt

## Requirements Coverage

All 18 v1 requirements satisfied.

| Requirement | Phase | Status |
|-------------|-------|--------|
| APIC-01: `pyodide()` renamed to `runtime()` | 67 | SATISFIED |
| APIC-02: Sync/rollback params moved to `multiplayer()` | 67 | SATISFIED |
| APIC-03: 7 old methods merged into `multiplayer()` | 67 | SATISFIED |
| APIC-04: `user_experience()` split into `content()` + `waitroom()` | 67 | SATISFIED |
| APIC-05: `rendering()` split into `rendering()` + `assets()` | 67 | SATISFIED |
| APIC-06: `policies()` and `gameplay()` unchanged | 67 | SATISFIED |
| CLNB-01: All old method names removed | 68 | SATISFIED |
| CLNB-02: No backwards-compatibility shims | 68 | SATISFIED |
| EXMP-01: scenes.py migrated | 69 | SATISFIED |
| EXMP-02: slimevb_human_human.py migrated | 69 | SATISFIED |
| EXMP-03: mountain_car_experiment.py migrated | 69 | SATISFIED |
| EXMP-04: overcooked_human_human_multiplayer.py migrated | 69 | SATISFIED |
| EXMP-05: human_ai_pyodide_boost.py migrated | 69 | SATISFIED |
| VERF-01: All tests pass | 70 | SATISFIED |
| VERF-02: No params lost (44/44 verified) | 70 | SATISFIED |
| VERF-03: All builder methods return self | 70 | SATISFIED |
| DOCS-01: All docs use new API method names | 71 | SATISFIED |
| DOCS-02: All doc code examples accurate with new API | 71 | SATISFIED |

**Score:** 18/18

## Phase Verification

| Phase | Status | Score | Verified |
|-------|--------|-------|----------|
| 67: API Method Consolidation | PASSED | 5/5 | 2026-02-07 |
| 68: Clean Break | PASSED | 5/5 | 2026-02-07 |
| 69: Example Configs Migration | PASSED | 7/7 | 2026-02-07 |
| 70: Verification & Test Pass | PASSED | 3/3 | 2026-02-08 |
| 71: Documentation Migration | PASSED | 7/7 | 2026-02-08 |

**Score:** 5/5 phases passed

## Cross-Phase Integration

| Connection | Status |
|------------|--------|
| Phase 67 adds new methods -> Phase 68 removes old methods | VERIFIED |
| Phase 68 clean break -> Phases 69/70 migrate all consumers | VERIFIED |
| Server attribute access preserved (pyodide_multiplayer, run_through_pyodide, etc.) | VERIFIED |
| All 10 builder methods wired and consumed by 11+ consumer files | VERIFIED |
| Zero orphaned references to old method names in Python code | VERIFIED |
| Zero orphaned references to old method names in documentation | VERIFIED |

**Score:** 6/6 integration checks passed

## E2E Flows

| Flow | Description | Status |
|------|-------------|--------|
| Single-Player Pyodide | Mountain car: runtime() -> server reads run_through_pyodide | COMPLETE |
| Multiplayer Human-Human | Overcooked: 10-method chain -> server reads pyodide_multiplayer | COMPLETE |
| Controllable AI | Dynamic scene construction with deepcopy + builder chains | COMPLETE |

**Score:** 3/3 flows verified

## Old Method Name Sweep

Zero references to any of 9 removed method names across entire codebase (Python, RST, MD):

| Method | .py Files | .rst/.md Files | Total |
|--------|-----------|----------------|-------|
| .pyodide() | 0 | 0 | 0 |
| .user_experience() | 0 | 0 | 0 |
| .continuous_monitoring() | 0 | 0 | 0 |
| .exclusion_callbacks() | 0 | 0 | 0 |
| .focus_loss_config() | 0 | 0 | 0 |
| .player_grouping() | 0 | 0 | 0 |
| .reconnection_config() | 0 | 0 | 0 |
| .partner_disconnect_message_config() | 0 | 0 | 0 |
| .player_pairing() | 0 | 0 | 0 |

## Tech Debt

**3 items — none are blockers, all pre-existing or out of scope:**

### Pre-existing TODOs (2 items)

- `gym_scene.py:95` — `TODO(chase): add callback typehint`
- `gym_scene.py:398` — `TODO(chase): add callback typehint`

**Impact:** None. Pre-existing, unrelated to refactor.

### Out-of-Scope Class

`RemoteConfig` in `remote_config.py` has its own `pyodide()` and `user_experience()` methods. This is a separate class with a separate API surface — intentionally not refactored in this milestone.

### Transient Build Cache

`docs/_build/` contains stale references to old method names in cached HTML. This directory is gitignored and auto-generated by Sphinx. A `make html` rebuild produces clean output from the now-clean source files.

## Human Verification Items

3 items flagged for optional manual verification:

1. **E2e tests** — `pytest tests/e2e/ --headed` (Playwright requires headed mode for FocusManager)
2. **Visual Sphinx build** — `cd docs && make html`, verify rendered pages
3. **Code example spot-check** — copy a doc example into Python, verify no AttributeError

## Execution Metrics

| Metric | Value |
|--------|-------|
| Total plans executed | 10 |
| Total execution time | 0.52 hours |
| Average plan duration | 3.0 min |
| Parameters migrated | 44 (old API -> new API) |
| Files modified (code) | ~15 |
| Files modified (docs) | 15 |
| Old methods removed | 9 |
| New methods added | 5 (runtime, multiplayer, content, waitroom, assets) |
| Final builder method count | 10 |

## Summary

All 18 requirements satisfied. All 5 phases passed verification. Cross-phase integration is clean — zero orphaned references in Python code or documentation, all server attribute access preserved. 3 E2E researcher flows verified.

**Previous audit** (pre-Phase 71) identified documentation debt as the sole gap. Phase 71 has now resolved this completely — zero references to removed method names remain in any source documentation file.

Ready for `/gsd:complete-milestone`.

---
*Audited: 2026-02-08*
*Re-audited: 2026-02-08 (after Phase 71 closed documentation debt)*
*Auditor: Claude (milestone-audit orchestrator + gsd-integration-checker)*
