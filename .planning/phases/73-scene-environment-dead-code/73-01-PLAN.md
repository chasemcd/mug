---
phase: 73-scene-environment-dead-code
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - interactive_gym/scenes/constructors/constructor.py (DELETE)
  - interactive_gym/scenes/constructors/options.py (DELETE)
  - interactive_gym/scenes/constructors/text.py (DELETE)
  - interactive_gym/scenes/constructors/ (DELETE directory)
  - interactive_gym/scenes/static_scene.py
  - interactive_gym/scenes/gym_scene.py
autonomous: true

must_haves:
  truths:
    - "The constructors/ directory no longer exists"
    - "The unused OptionBoxes class (line 181) no longer exists in static_scene.py"
    - "The unused OptionBoxesWithTextBox class no longer exists in static_scene.py"
    - "The dead simulate_waiting_room property no longer exists in gym_scene.py"
    - "The dead get_complete_scene_metadata method no longer exists in gym_scene.py"
    - "All used scene classes (StaticScene, StartScene, EndScene, CompletionCodeScene, TextBox, OptionBoxesWithScalesAndTextBox, ScalesAndTextBox, MultipleChoice) still work"
    - "All unit tests pass after removals"
  artifacts:
    - path: "interactive_gym/scenes/constructors/"
      state: "deleted"
    - path: "interactive_gym/scenes/static_scene.py"
      provides: "StaticScene, StartScene, EndScene, CompletionCodeScene, TextBox, OptionBoxesWithScalesAndTextBox, ScalesAndTextBox, MultipleChoice (OptionBoxes and OptionBoxesWithTextBox removed)"
    - path: "interactive_gym/scenes/gym_scene.py"
      provides: "GymScene class (simulate_waiting_room and get_complete_scene_metadata removed)"
  key_links:
    - from: "interactive_gym/examples/cogrid/scenes/scenes.py"
      to: "interactive_gym/scenes/static_scene.py"
      via: "import and usage of OptionBoxesWithScalesAndTextBox"
      pattern: "static_scene\\.OptionBoxesWithScalesAndTextBox"
    - from: "interactive_gym/examples/footsies/scenes.py"
      to: "interactive_gym/scenes/static_scene.py"
      via: "import and usage of MultipleChoice"
      pattern: "static_scene\\.MultipleChoice"
---

<objective>
Remove all dead code from core scene classes: delete the entire constructors/ directory, remove two unused static scene classes, and remove two dead methods from GymScene.

Purpose: Eliminate ~250 lines of dead code from the core scene layer. The constructors/ directory is entirely unreferenced, OptionBoxes and OptionBoxesWithTextBox are never instantiated, and simulate_waiting_room/get_complete_scene_metadata are broken/dead methods.

Output: Cleaner scene layer with only live, functional code remaining. Zero functionality change.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/73-scene-environment-dead-code/73-RESEARCH.md

Key reference files:
@interactive_gym/scenes/constructors/constructor.py
@interactive_gym/scenes/constructors/options.py
@interactive_gym/scenes/constructors/text.py
@interactive_gym/scenes/static_scene.py
@interactive_gym/scenes/gym_scene.py
</context>

<tasks>

<task type="auto">
  <name>Task 1: Delete constructors/ directory and remove dead static scene classes</name>
  <files>
    interactive_gym/scenes/constructors/constructor.py (DELETE)
    interactive_gym/scenes/constructors/options.py (DELETE)
    interactive_gym/scenes/constructors/text.py (DELETE)
    interactive_gym/scenes/constructors/ (DELETE directory)
    interactive_gym/scenes/static_scene.py
  </files>
  <action>
    1. DELETE the entire `interactive_gym/scenes/constructors/` directory (3 files + directory).
       - `constructor.py`: Base Constructor class — never imported outside constructors/
       - `options.py`: OptionBoxes(Constructor) — only imports constructor.py, never imported externally
       - `text.py`: Empty file (0 bytes)
       These are completely self-contained dead code. The CONCERNS.md confirms: "constructors/ directory contains incomplete, non-functional code" with a missing `self` parameter in build().

    2. In `interactive_gym/scenes/static_scene.py`, remove the `OptionBoxes` class (starts at line 181, ends around line 260).
       - This class takes `scene_id` and `experiment_config` as constructor args (old-style, pre-builder-pattern API)
       - It is NEVER instantiated anywhere in the codebase (confirmed by grep)
       - Do NOT confuse with `OptionBoxesWithScalesAndTextBox` (line 447) which IS used in `scenes/scenes.py`
       - Note: The `OptionBoxes` in constructors/options.py is a DIFFERENT class (Constructor subclass) — both are dead

    3. In `interactive_gym/scenes/static_scene.py`, remove the `OptionBoxesWithTextBox` class (starts at line 335, ends around line 444).
       - This class also takes `scene_id` and `experiment_config` as constructor args (old-style API)
       - It is NEVER instantiated anywhere in the codebase (confirmed by grep)
       - Only its class definition exists, no references in examples/, tests/, or server/

    IMPORTANT: After removing these two classes, verify the remaining classes in static_scene.py are intact:
    - StaticScene (line 11)
    - StartScene (line 89)
    - EndScene (line 99)
    - CompletionCodeScene (line 134)
    - TextBox (line 263)
    - OptionBoxesWithScalesAndTextBox (line 447)
    - ScalesAndTextBox (line 654)
    - MultipleChoice (line 826)

    4. Run `pytest tests/unit/ -v` to confirm all 27 tests pass.
  </action>
  <verify>
    - `ls interactive_gym/scenes/constructors/` returns "No such file or directory"
    - `grep -n "class OptionBoxes(" interactive_gym/scenes/static_scene.py` returns ONLY the OptionBoxesWithScalesAndTextBox match (not the standalone OptionBoxes)
    - `grep -n "class OptionBoxesWithTextBox" interactive_gym/scenes/static_scene.py` returns NO matches
    - `python -c "from interactive_gym.scenes.static_scene import StaticScene, StartScene, EndScene, CompletionCodeScene, TextBox, OptionBoxesWithScalesAndTextBox, ScalesAndTextBox, MultipleChoice"` succeeds
    - `pytest tests/unit/ -v` passes (27/27 tests)
  </verify>
  <done>
    constructors/ directory deleted. OptionBoxes class (line 181) removed. OptionBoxesWithTextBox class removed. All remaining static scene classes import successfully. All unit tests pass.
  </done>
</task>

<task type="auto">
  <name>Task 2: Remove dead methods from GymScene</name>
  <files>
    interactive_gym/scenes/gym_scene.py
  </files>
  <action>
    1. In `interactive_gym/scenes/gym_scene.py`, remove the `simulate_waiting_room` property (lines 958-972).
       - This property references `self.waitroom_time_randomization_interval_s` which does NOT exist as an attribute in GymScene
       - The attribute only exists in the legacy `RemoteConfig` class (remote_config.py line 71)
       - Calling this property would crash with an AttributeError
       - It is never called anywhere in the codebase (confirmed by grep)

    2. In `interactive_gym/scenes/gym_scene.py`, remove the `get_complete_scene_metadata` method (lines 974-1005).
       - The only reference to this method in the entire codebase is a COMMENTED-OUT line in `app.py` line 1150:
         `# current_scene_metadata = current_scene.get_complete_scene_metadata()`
       - This is dead code — the method is never called by any live code path
       - Per user constraints: remove commented-out code unless it has an explanatory annotation. The commented-out call in app.py has no explanatory annotation, but removing that line is out of scope for this plan (it's in server code, not scene code). The method itself in gym_scene.py is the dead code to remove.

    3. After removal, verify the file still parses correctly:
       - `python -c "from interactive_gym.scenes.gym_scene import GymScene"` succeeds
       - The last method in the file should now be `multiplayer()` (ending around line 956)

    4. Run `pytest tests/unit/ -v` to confirm all 27 tests pass.
  </action>
  <verify>
    - `grep -n "simulate_waiting_room" interactive_gym/scenes/gym_scene.py` returns NO matches
    - `grep -n "get_complete_scene_metadata" interactive_gym/scenes/gym_scene.py` returns NO matches
    - `python -c "from interactive_gym.scenes.gym_scene import GymScene; g = GymScene()"` succeeds
    - `pytest tests/unit/ -v` passes (27/27 tests)
  </verify>
  <done>
    simulate_waiting_room property removed (referenced nonexistent attribute). get_complete_scene_metadata method removed (only called from commented-out code). GymScene imports and instantiates successfully. All unit tests pass.
  </done>
</task>

</tasks>

<verification>
- constructors/ directory is deleted from disk
- `class OptionBoxes(StaticScene)` no longer exists in static_scene.py (only OptionBoxesWithScalesAndTextBox remains)
- `class OptionBoxesWithTextBox` no longer exists in static_scene.py
- `simulate_waiting_room` property no longer exists in gym_scene.py
- `get_complete_scene_metadata` method no longer exists in gym_scene.py
- All remaining scene classes import successfully
- `pytest tests/unit/ -v` passes with 27/27 tests
</verification>

<success_criteria>
- Zero dead directories remain (constructors/ deleted)
- Zero dead classes remain (OptionBoxes and OptionBoxesWithTextBox removed)
- Zero dead methods remain in GymScene (simulate_waiting_room and get_complete_scene_metadata removed)
- All 27 unit tests pass
- No import errors in affected modules
</success_criteria>

<output>
After completion, create `.planning/phases/73-scene-environment-dead-code/73-01-SUMMARY.md`
</output>
