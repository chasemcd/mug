<div style="margin: 20px; font-family: Arial, sans-serif; line-height: 1.6;">
    <p>
        You'll be playing a simplified version of the Overcooked video game. Your goal is to collaborate with an AI partner to cook and deliver as many dishes as possible before time runs out.
    </p>

    <p>
        <b>Here's how the experiment will work.</b> This process will repeat twice on a different layout of the game, for a total of 20 rounds:
        <ol>
            <li>You'll play nine 45-second rounds with three different AI partners (three rounds with each partner). After each round, you'll answer a few questions about that partner.</li>
            <li>Then, you'll play a single 45-second round with your choice of partner.</li>
        </ol>
    </p>

    <p>
        One of the partners you'll be playing with will be controllable by you. You can control the behavior of this partner across two dimensions: delivering dishes or putting onions in the pot.
        You'll have the opportunity to adjust the behaviors at the beginning of each round that you interact with them. The other partners will have fixed behaviors. One of them has pre-set behaviors (which remain fixed throughout the
        experiment) and the other has no specific behavioral settings.
    </p>

    <p>
        <b>The bonus will be based on a tiered system of achievement and capped at $6.00.</b>
        <ul>
            <li>If you deliver less than 20 dishes total, you will receive a $0 bonus.</li>
            <li>If you deliver at least 20 dishes total, you will receive a $0.03 bonus per dish delivered. For example, if you deliver exactly 60 dishes, you'll receive a bonus of 60 x $0.03 = $1.80.</li>
        </ul>
        We expect participants who engage in the task to deliver well over 20 dishes total throughout the experiment.
    </p>

    <p style="text-align: center;">
        <b>Click "Continue" to start the tutorial.</b>
    </p>

    <script>

        if (typeof window.interactiveGymGlobals === 'undefined') {
                window.interactiveGymGlobals = {};
            }

        // Initialize the values to 0
        window.interactiveGymGlobals.delivery_act_reward = 0;
        window.interactiveGymGlobals.onion_in_pot_reward = 0;


        // Initialize fixedControls with random values
        // Helper function to generate random values ensuring only one -1
        function generateRandomPair() {
            const values = [-1, 0, 1];
            let delivery, onion;

            // Randomly decide which value might be -1
            if (Math.random() < 0.5) {
                delivery = values[Math.floor(Math.random() * values.length)];
                // If delivery is -1, onion can only be 0 or 1
                onion = delivery === -1 ? [0, 1][Math.floor(Math.random() * 2)] : values[Math.floor(Math.random() * values.length)];
            } else {
                onion = values[Math.floor(Math.random() * values.length)];
                // If onion is -1, delivery can only be 0 or 1
                delivery = onion === -1 ? [0, 1][Math.floor(Math.random() * 2)] : values[Math.floor(Math.random() * values.length)];
            }

            return {delivery_act_reward: delivery, onion_in_pot_reward: onion};
        }

        // Initialize fixedControls with random values
        window.interactiveGymGlobals.fixedControls = generateRandomPair();

        // Initialize hiddenControls with random values
        window.interactiveGymGlobals.hiddenControls = generateRandomPair();

            // Function to randomly select initial radio values and highlight selected buttons
        function setFixedValues() {
            const deliveryValue = window.interactiveGymGlobals.fixedControls.delivery_act_reward;
            const onionValue = window.interactiveGymGlobals.fixedControls.onion_in_pot_reward;

            // Set delivery radio and highlight
            const deliveryRadio = document.querySelector(`input[name="delivery_act_reward"][value="${deliveryValue}"]`);
            deliveryRadio.checked = true;
            deliveryRadio.nextElementSibling.style.background = 'rgba(0, 123, 255, 0.3)';
            window.interactiveGymGlobals.delivery_act_reward = deliveryValue;

            // Set onion radio and highlight
            const onionRadio = document.querySelector(`input[name="onion_in_pot_reward"][value="${onionValue}"]`);
            onionRadio.checked = true;
            onionRadio.nextElementSibling.style.background = 'rgba(0, 123, 255, 0.3)';
            window.interactiveGymGlobals.onion_in_pot_reward = onionValue;
        }

        // Function to randomly select initial radio values and highlight selected buttons
        function setHiddenValues() {
            const deliveryValue = window.interactiveGymGlobals.hiddenControls.delivery_act_reward;
            const onionValue = window.interactiveGymGlobals.hiddenControls.onion_in_pot_reward;
            window.interactiveGymGlobals.delivery_act_reward = deliveryValue;
            window.interactiveGymGlobals.onion_in_pot_reward = onionValue;
        }


        </script>




</div>
